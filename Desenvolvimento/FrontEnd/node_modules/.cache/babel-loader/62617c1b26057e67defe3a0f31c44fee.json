{"remainingRequest":"/home/daniel/Desktop/Git/FrontEnd/node_modules/babel-loader/lib/index.js!/home/daniel/Desktop/Git/FrontEnd/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/daniel/Desktop/Git/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniel/Desktop/Git/FrontEnd/src/components/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/Desktop/Git/FrontEnd/src/components/pages/Login.vue","mtime":1543447030908},{"path":"/home/daniel/Desktop/Git/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniel/Desktop/Git/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/daniel/Desktop/Git/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/daniel/Desktop/Git/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// O comentário na linha de baixo desabilita os warnings\n\n/* eslint-disable */\n// Imports necessários para fazer a requisição ao servidor\nimport API from '../../services/ApiService';\nexport default {\n  name: \"login\",\n  data: function data() {\n    return {\n      // Variável para o e-mail do login\n      email: '',\n      // Variável para a senha do login\n      password: '',\n      // Variável para permitir a função de lembrar-me\n      remember: false,\n      // Variável que recebe o erro do back caso\n      // haja algum erro na adição do currículo\n      error: null,\n      // Variável para controlar a exibição do modal de entrada de\n      // informações que levam a recuperação de senha\n      modalForgotPass: false,\n      // Variável e-mail para a recuperação de senha\n      emailForgot: '',\n      // Variável para controlar a exibição do modal que\n      // é mostrado logo após submeter o e-mail ao back-end\n      modalInfoForgot: false\n    };\n  },\n  methods: {\n    // Método para intermediar a validação do formulário de login\n    validate: function validate($event) {\n      if (this.isValid) {\n        this.login();\n      } // Previne o recarregamento da página (ou seja, que o evento de submit aconteça)\n\n\n      $event.preventDefault();\n    },\n    // Método para intermediar a validação do formulário de esqueci a senha\n    validateForgot: function validateForgot($event) {\n      if (this.stateForgot) {\n        this.forgotPass();\n      } // Previne o recarregamento da página (ou seja, que o evento de submit aconteça)\n\n\n      $event.preventDefault();\n    },\n    // Método para fazer o login\n    login: function login() {\n      var _this = this;\n\n      // Requisição POST para fazer o login\n      API.post('/login2', {\n        email: this.email,\n        password: this.password\n      }).then(function (response) {\n        // Armazena o token recebido do back-end, este que é usado\n        // para recuperar as informações presentes no back-end\n        _this.$store.commit('setAuthToken', response.data.data.token);\n\n        _this.$store.commit('setName', response.data.data.nome);\n\n        _this.$store.commit('setuserType', response.data.data.user_type); // this.$store.commit('setuserType', response.data.data.user_type);\n        // Se o usuário é uma empresa (user_type = 0) redireciona para o portal da empresa\n\n\n        if (response.data.data.user_type == 0) {\n          _this.$router.push('/portal-empresa');\n        } else {\n          _this.$router.push('/portal-pessoa');\n        }\n      }).catch(function (error) {\n        _this.error = error.message;\n      });\n    },\n    forgotPass: function forgotPass() {\n      var _this2 = this;\n\n      // Requisição POST para recuperar a senha\n      API.post('/forgotMyPass', {\n        email: this.emailForgot\n      }).then(function (response) {\n        // Esconde o modal de esqueci a senha                \n        _this2.hideModalForgotPass(); // Exibe o modal para informar o usuário\n\n\n        _this2.showModalInfoForgot(); // Limpa o campo e-mail do formulário do esqueci a senha\n\n\n        _this2.emailForgot = '';\n      }).catch(function (error) {\n        // Exibe o modal para informar o usuário\n        _this2.hideModalForgotPass();\n\n        _this2.error = error.response.data.message;\n      });\n    },\n    // Método para exibir o modal de esqueci a senha\n    showModalForgotPass: function showModalForgotPass() {\n      this.$refs.modalForgotPass.show();\n    },\n    // Método para esconder o modal de esqueci a senha\n    hideModalForgotPass: function hideModalForgotPass() {\n      this.$refs.modalForgotPass.hide();\n    },\n    // Método para exibir o modal de alerta após submeter\n    // o e-mail em esqueci a senha\n    showModalInfoForgot: function showModalInfoForgot() {\n      this.$refs.modalInfoForgot.show();\n    },\n    // Método para esconder o modal de alerta após submeter\n    // o e-mail em esqueci a senha\n    hideModalInfoForgot: function hideModalInfoForgot() {\n      this.$refs.modalInfoForgot.hide();\n    },\n    // Verifica se o e-mail é válido\n    validEmail: function validEmail(email) {\n      var re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/gi;\n      return re.test(email);\n    }\n  },\n  computed: {\n    isValid: function isValid() {\n      return this.email && this.password.length > 4;\n    },\n    // Estado do input e-mail, verifica se é válido\n    // o input com uma expressão regular\n    stateForgot: function stateForgot() {\n      return this.validEmail(this.emailForgot) ? true : false;\n    },\n    // Função responsável por mostrar a mensagem\n    // se o input do e-mail não é válido\n    invalidForgot: function invalidForgot() {\n      if (this.validEmail(this.emailForgot)) {\n        return '';\n      } else {\n        return \"Digite um e-mail válido\";\n      }\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <section class=\"pt-1 pb-5\">\n        <!-- Divisão do login -->\n        <div id=\"login\">\n            <h3 class=\"text-center font-weight-bold pt-5 py-3\">Login</h3>\n            <p class=\"text-center text-danger\" v-if=\"error\">{{ error }}</p>\n            <div class=\"container\" id=\"login-container\">\n                <div class=\"row justify-content-center align-items-center\" id=\"login-row\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <b-form @submit=\"validate\">\n                                <!-- E-mail -->\n                                <b-form-group>                                    \n                                    <b-form-text class=\"mb-2\" for=\"userEmail\"><icon name=\"envelope\"></icon> Seu e-mail</b-form-text>\n                                    <b-form-input type=\"email\"\n                                        id=\"userEmail\"  \n                                        v-model=\"email\"\n                                        placeholder=\"E-mail\" required></b-form-input>                         \n                                </b-form-group>\n                                \n                                <!-- Senha -->\n                                <b-form-group>\n                                    <b-form-text class=\"mb-2\" for=\"userPassword\"><icon name=\"lock\"></icon> Sua senha</b-form-text>\n                                    <b-form-input type=\"password\"\n                                        id=\"userPassword\" \n                                        v-model=\"password\"\n                                        placeholder=\"Senha\" required></b-form-input> \n                                </b-form-group>\n    \n                                <!-- Lembrar-me (Lembrete: o input checkbox deve vir antes do label, caso contrário, não funciona)-->\n                                <!-- <div class=\"align-items-start d-flex flex-column\">\n                                    <b-form-checkbox id=\"loginFormRemember\" v-model=\"remember\"\n                                        value=\"remember\"\n                                        unchecked-value=\"not_remember\">\n                                        Lembrar-me\n                                    </b-form-checkbox>\n                                </div>                         -->\n    \n                                <!-- Esqueceu a senha -->\n                                <div class=\"d-flex flex-column align-items-center pt-2\">                                                                                            \n                                    <b-link @click=\"showModalForgotPass\">\n                                        Esqueceu a senha?\n                                    </b-link>\n                                </div>                                                       \n    \n                                <!-- Botão de login  -->\n                                <div class=\"d-flex flex-column align-items-center mt-2 my-2\">\n                                    <b-btn class=\"btn btn-outline-dark my-2\" type=\"submit\">\n                                        Fazer login\n                                    </b-btn>                            \n                                </div>\n                            </b-form>                            \n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Modal para a função esqueci a senha -->\n        <b-modal hide-footer\n            centered          \n            size=\"lg\"\n            ref=\"modalForgotPass\">    \n            <h5 slot=\"modal-title\">\n                <Strong> Recuperação de senha </Strong>\n            </h5>\n\n            <b-form @submit=\"validateForgot\">\n                <div class=\"modal-body\">\n                    <h6>Informe seu e-mail e enviaremos instruções para você redefinir sua senha.</h6>\n                    <hr class=\"separator\">\n                                        \n                    <!-- E-mail -->\n                    <b-form-group \n                        id=\"groupEmailForgot\"\n                        label=\"E-mail\"\n                        label-for=\"userEmail\"\n                        :invalid-feedback=\"invalidForgot\"\n                        :state=\"stateForgot\">\n                        <b-form-input id=\"emailForgot\" \n                            v-model.trim=\"emailForgot\" \n                            :state=\"stateForgot\"\n                            required></b-form-input>                         \n                    </b-form-group>\n                    \n                </div>\n                <div class=\"modal-footer mt-2\">\n                    <b-row align-h=\"end\">\n                        <b-btn variant=\"outline-dark mr-1\" @click=\"hideModalForgotPass\">Cancelar</b-btn>\n                        <b-btn variant=\"outline-success mr-1\" type=\"submit\">Enviar</b-btn>\n                    </b-row>  \n                </div>\n            </b-form>            \n        </b-modal>\n\n        <!-- Modal para informar o usuário da submissão do e-mail na função de esqueci a senha -->\n        <b-modal hide-footer\n            :centered=\"true\"          \n            size=\"md\"\n            ref=\"modalInfoForgot\">    \n            <h5 slot=\"modal-title\">\n                <Strong> Requisição enviada </Strong>\n            </h5>\n            <div class=\"modal-body\">\n                <p>\n                    Se o e-mail informado existe na plataforma, você receberá as instruções para a alteração da senha.\n                </p>\n            </div>            \n        </b-modal>\n    </section>\n</template>\n\n<script>\n    // O comentário na linha de baixo desabilita os warnings\n/* eslint-disable */\n\n// Imports necessários para fazer a requisição ao servidor\nimport API from '../../services/ApiService';\n\nexport default {\n    name: \"login\",\n    data() {\n        return {\n            // Variável para o e-mail do login\n            email: '',\n\n            // Variável para a senha do login\n            password: '',\n\n            // Variável para permitir a função de lembrar-me\n            remember: false,\n\n            // Variável que recebe o erro do back caso\n            // haja algum erro na adição do currículo\n            error: null,\n\n            // Variável para controlar a exibição do modal de entrada de\n            // informações que levam a recuperação de senha\n            modalForgotPass: false,\n\n            // Variável e-mail para a recuperação de senha\n            emailForgot: '',\n\n            // Variável para controlar a exibição do modal que\n            // é mostrado logo após submeter o e-mail ao back-end\n            modalInfoForgot: false\n        }\n    },\n    methods: {\n        // Método para intermediar a validação do formulário de login\n        validate($event) {\n            if(this.isValid) {\n                this.login();\n            }\n            // Previne o recarregamento da página (ou seja, que o evento de submit aconteça)\n            $event.preventDefault();\n        },\n\n        // Método para intermediar a validação do formulário de esqueci a senha\n        validateForgot($event) {\n            if(this.stateForgot) {\n                this.forgotPass();\n            }\n            // Previne o recarregamento da página (ou seja, que o evento de submit aconteça)\n            $event.preventDefault();\n        },\n\n        // Método para fazer o login\n        login() {\n            // Requisição POST para fazer o login\n            API.post('/login2', {\n                email: this.email,\n                password: this.password\n            }).then(response => {\n                // Armazena o token recebido do back-end, este que é usado\n                // para recuperar as informações presentes no back-end\n                this.$store.commit('setAuthToken', response.data.data.token);\n                this.$store.commit('setName', response.data.data.nome);\n                this.$store.commit('setuserType', response.data.data.user_type);\n                // this.$store.commit('setuserType', response.data.data.user_type);\n\n                // Se o usuário é uma empresa (user_type = 0) redireciona para o portal da empresa\n                if(response.data.data.user_type == 0) {\n                    this.$router.push('/portal-empresa');\n                } else {\n                    this.$router.push('/portal-pessoa');\n                }\n            }).catch(error => {\n                this.error = error.message;\n            });\n        },\n\n        forgotPass () {\n            // Requisição POST para recuperar a senha\n            API.post('/forgotMyPass', {\n                email: this.emailForgot\n            }).then(response => {                \n                // Esconde o modal de esqueci a senha                \n                this.hideModalForgotPass();\n                \n                // Exibe o modal para informar o usuário\n                this.showModalInfoForgot();\n                \n                // Limpa o campo e-mail do formulário do esqueci a senha\n                this.emailForgot = '';\n            }).catch(error => {\n                // Exibe o modal para informar o usuário\n                this.hideModalForgotPass();\n                this.error = error.response.data.message;\n            });\n        },\n\n        // Método para exibir o modal de esqueci a senha\n        showModalForgotPass () {\n            this.$refs.modalForgotPass.show()\n        },\n\n        // Método para esconder o modal de esqueci a senha\n        hideModalForgotPass () {\n            this.$refs.modalForgotPass.hide()\n        },\n\n        // Método para exibir o modal de alerta após submeter\n        // o e-mail em esqueci a senha\n        showModalInfoForgot () {\n            this.$refs.modalInfoForgot.show()\n        },\n\n        // Método para esconder o modal de alerta após submeter\n        // o e-mail em esqueci a senha\n        hideModalInfoForgot () {\n            this.$refs.modalInfoForgot.hide()\n        },\n\n        // Verifica se o e-mail é válido\n        validEmail: function (email) {\n            var re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/gi;\n            return re.test(email);\n        }\n    },\n    computed: {\n        isValid() {\n            return this.email && this.password.length > 4;\n        },\n\n        // Estado do input e-mail, verifica se é válido\n        // o input com uma expressão regular\n        stateForgot () {\n            return this.validEmail(this.emailForgot) ? true : false;\n        },\n        \n        // Função responsável por mostrar a mensagem\n        // se o input do e-mail não é válido\n        invalidForgot () {\n            if (this.validEmail(this.emailForgot)) {\n                return '';\n            } else {\n                return \"Digite um e-mail válido\";\n            }\n        },\n    }\n};\n</script>"],"sourceRoot":"src/components/pages"}]}